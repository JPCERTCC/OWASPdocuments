<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="utf-8" />
<title>Ruby on Rails に関するチートシート - OWASP</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23.11" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="OWASP (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://www.owasp.org/api.php?action=rsd" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="OWASP Atom フィード" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://www.owasp.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<link rel="stylesheet" href="/extensions/HeaderTabs/skins/ext.headertabs.large.css" /><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://www.owasp.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="https://www.owasp.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Ruby_on_Rails_Cheatsheet","wgTitle":"Ruby on Rails Cheatsheet","wgCurRevisionId":191078,"wgRevisionId":191078,"wgArticleId":29608,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Cheatsheets"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Ruby_on_Rails_Cheatsheet","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"htTabIndexes":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"editsection":false,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs274":false,"searchNs275":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: wiki:resourceloader:filter:minify-js:7:60712566bd995a32fa50031484a6bded */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Ruby_on_Rails_Cheatsheet skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a><p id="warning" style="color:red; font-size:x-large; font-weight:bold">この文書は2016年以降更新されていません</p>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Ruby on Rails に関するチートシート</span></h1>
						<div id="bodyContent">
								<div id="siteSub">OWASP 作成</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					ジャンプ先: 					<a href="#mw-navigation">移動</a>、					<a href="#p-search">検索</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div style="width:100%;height:160px;border:0,margin:0;overflow: hidden;"><img alt="Cheatsheets-header.jpg" src="/images/d/d8/Cheatsheets-header.jpg" width="2400" height="160" /></div>
<table style="padding: 0;margin:0;margin-top:10px;text-align:left;">
<tr>
<td valign="top" style="border-right: 1px dotted gray;padding-right:25px;">
<p>最終改訂日 (yy/mm/dd): <b>2015/03/09</b> 
</p>
<h1><span class="mw-headline" id="Introduction">はじめに</span></h1>
 <div id="toc" class="toc"><div id="toctitle"><h2></h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">はじめに</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Items"><span class="tocnumber">2</span> <span class="toctext">項目</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Command_Injection"><span class="tocnumber">2.1</span> <span class="toctext">コマンドインジェクション</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#SQL_Injection"><span class="tocnumber">2.2</span> <span class="toctext">SQL インジェクション</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Cross-site_Scripting_.28XSS.29"><span class="tocnumber">2.3</span> <span class="toctext">クロスサイトスクリプティング (XSS)</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Sessions"><span class="tocnumber">2.4</span> <span class="toctext">セッション</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Authentication"><span class="tocnumber">2.5</span> <span class="toctext">認証</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Insecure_Direct_Object_Reference_or_Forceful_Browsing"><span class="tocnumber">2.6</span> <span class="toctext">セキュリティで保護されていない直接的なオブジェクト参照または強制的ブラウズ</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#CSRF_.28Cross_Site_Request_Forgery.29"><span class="tocnumber">2.7</span> <span class="toctext">CSRF (クロスサイトリクエストフォージェリ)</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Mass_Assignment_and_Strong_Parameters"><span class="tocnumber">2.8</span> <span class="toctext">Mass Assignment と Strong Parameters</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Redirects_and_Forwards"><span class="tocnumber">2.9</span> <span class="toctext">リダイレクトと転送</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Dynamic_Render_Paths"><span class="tocnumber">2.10</span> <span class="toctext">動的レンダーパス</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Cross_Origin_Resource_Sharing"><span class="tocnumber">2.11</span> <span class="toctext">クロスオリジンリソース共有</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Security-related_headers"><span class="tocnumber">2.12</span> <span class="toctext">セキュリティ関連ヘッダー</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Business_Logic_Bugs"><span class="tocnumber">2.13</span> <span class="toctext">ビジネスロジックのバグ</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Attack_Surface"><span class="tocnumber">2.14</span> <span class="toctext">攻撃対象領域</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Sensitive_Files"><span class="tocnumber">2.15</span> <span class="toctext">機密のファイル</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Encryption"><span class="tocnumber">2.16</span> <span class="toctext">暗号化</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Updating_Rails_and_Having_a_Process_for_Updating_Dependencies"><span class="tocnumber">3</span> <span class="toctext">Rails の更新、および依存関係更新プロセスの設定</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#Tools"><span class="tocnumber">4</span> <span class="toctext">ツール</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#Authors_and_Primary_Editors"><span class="tocnumber">5</span> <span class="toctext">著者と編集者</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#Related_Articles_and_References"><span class="tocnumber">6</span> <span class="toctext">関連資料と参考資料</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href="#Other_Cheatsheets"><span class="tocnumber">6.1</span> <span class="toctext">その他のチートシート</span></a></li>
</ul>
</li>
</ul>
</div>

<p>この<i>チートシート</i>は、Ruby on Rails のセキュリティに関する簡単で基本的なヒントを開発者向けに提供することを目的としています。このシートでは、Rails コアによる <a rel="nofollow" class="external text" href="http://guides.rubyonrails.org/security.html">Rails セキュリティガイド</a>で取り上げられている問題を補完、増補、強調しています。Rails フレームワークは、多くの単調な作業から開発者を解放し、複雑なタスクを迅速かつ容易に実行できるようにするための手段を提供します。Rails の内部構造に不慣れな新しい開発者には、アプリケーションの基本的な側面を保護するための一連の基本ガイドラインが必要となることが予想されます。このドキュメントのねらいは、このような指針を提供することです。
</p>
<h1><span class="mw-headline" id="Items">項目</span></h1>
<h2><span class="mw-headline" id="Command_Injection">コマンドインジェクション</span></h2>
<p>Ruby は、文字列に基づいて新しい Ruby コードを動的に構築する "eval" という関数を備えています。また、Ruby にはシステムコマンドを呼び出す方法が複数あります。
</p>
<pre>  eval("Ruby コードをここへ挿入")
  System("OS コマンドをここへ挿入")
  `ls -al /`   (OS コマンドをバッククォートで囲む)
  Kernel.exec("OS コマンドをここへ挿入")
</pre>
<p>これらのコマンドは非常に有用ですが、Rails ベースのアプリケーションでこれらを使用するときには細心の注意を払う必要があります。通常は、使用すべきではありません。使用する必要がある場合は、入力可能値のホワイトリストを使用して、あらゆる入力をできるだけ入念に検証します。「Ruby Security Reviewer's Guide」に<a rel="nofollow" class="external text" href="http://code.google.com/p/ruby-security/wiki/Guide#Good_ol%27_shell_injection">インジェクションに関するセクション</a>があります。また、OWASP の参考資料が多数あり、「<a rel="nofollow" class="external text" href="https://www.owasp.org/index.php/Command_Injection">Command Injection</a>」から辿ることができます。
</p>
<h2><span class="mw-headline" id="SQL_Injection">SQL インジェクション</span></h2>
<p>Ruby on Rails は、多くの場合、ActiveRecord と呼ばれる ORM とともに使用されますが、柔軟性があり、他のデータソースでも使用できます。通常、きわめて単純な Rails アプリケーションでは、Rails モデルに対するメソッドの使用を通じて、データのクエリが実行されます。多くのユースケースでは、SQL インジェクションに対する防御が追加設定なしで適用されます。しかし、SQL インジェクションを可能にしてしまうコードが作成される場合もあります。  
</p><p>次に例を示します (Rails 2.X スタイル):
</p>
<pre>   @projects = Project.find(:all,&#160;:conditions =&gt; “name like #{params[:name]}”)
</pre>
<p>Rails 3.X の例:
</p>
<pre>   name = params[:name]
   @projects = Project.where(“name like ‘“ + name + “‘“);
</pre>
<p>どちらのケースでも、name パラメーターがエスケープされていないため、ステートメントへのインジェクションが可能です。  
</p><p>この種のステートメントを構築する場合、次のようなイディオムを使うべきです。
</p>
<pre>   @projects = Project.find(:all,&#160;:conditions =&gt; [ “name like&#160;?”, “#{params[:name]}”] )
</pre>
<p>AREL ベースのソリューション:
</p>
<pre>   @projects = Project.where("name like&#160;?", "%#{params[:name]}%")
</pre>
<p>ユーザーが制御する入力に基づいて SQL ステートメントを構築しないよう注意してください。より実際的で詳細な例が、<a rel="nofollow" class="external text" href="http://rails-sqli.org">rails-sqli.org</a> にあります。OWASP は、<a rel="nofollow" class="external text" href="https://www.owasp.org/index.php/SQL_Injection">SQL インジェクション</a>に関する広範な情報を保有しています。
</p>
<h2><span class="mw-headline" id="Cross-site_Scripting_.28XSS.29">クロスサイトスクリプティング (XSS)</span></h2>
<p>Rails 3.0 では、XSS に対する防御が既定の動作となっています。ビューへの文字列データの表示時、文字列データはブラウザーに送り返される前にエスケープされます。これはとても有用ですが、よくあるケースとして、開発者が、リッチテキストの編集を可能にするためなどの目的で、この保護をバイパスすることがあります。タグをそのままの状態にして変数をフロントエンドに渡す必要がある場合、.erb ファイル (Ruby マークアップ) で次のように記述したくなります。
</p>
<pre>   &lt;%= raw @product.name&#160;%&gt;   
   &lt;%= @product.name.html_safe&#160;%&gt;       これらは "してはいけない" ことの例です。
   &lt;%= content_tag @product.name&#160;%&gt;
</pre>
<p>残念なことに、raw をこのように使用しているフィールドはすべて XSS の潜在的な標的になります。また、html_safe についても、一般に広まっている誤解があります。<a rel="nofollow" class="external text" href="http://stackoverflow.com/questions/4251284/raw-vs-html-safe-vs-h-to-unescape-html">この記事</a>には、基礎の SafeBuffer メカニズムに関する詳細な説明があります。文字列の出力の準備方法を変更するその他のタグも、同様の問題を発生させます。content_tag もその 1 つです。
</p><p>ユーザーからの HTML コンテンツを受け入れる必要がある場合は、アプリケーションでリッチテキスト用のマークアップ言語 (Markdown や Textile など) を使用し、HTML タグは拒否することを検討してください。 これは、有害な可能性がある HTML コンテンツを含む入力の受け入れを防止するのに役立ちます。ユーザーによる HTML の入力を制限できない場合は、あらゆる javascript の実行を禁止するコンテンツセキュリティポリシーの導入を検討してください。さらに、使用可能なタグのホワイトリストを作成できる #sanitize メソッドの使用を検討します。ただし、このメソッドは不備があることが何度も判明しているため、完全なソリューションとはなりません。
</p><p>しばしば見過ごされる XSS 攻撃ベクトルの 1 つに、リンクの href 値があります。
</p>
<pre>   &lt;%= link_to “Personal Website”, @user.website&#160;%&gt;
</pre>
<p>@user.website に、"javascript:" で始まるリンクが含まれている場合、生成されたリンクをユーザーがクリックすると、コンテンツが実行されます。
</p>
<pre>   &lt;a href=”javascript:alert(‘Haxored’)”&gt;Personal Website&lt;/a&gt;
</pre>
<p>OWASP では、トップレベルページの 1 つである「<a rel="nofollow" class="external text" href="https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29">OWASP Cross Site Scripting</a>」で XSS に関する一般情報を提供しています。
</p>
<h2><span class="mw-headline" id="Sessions">セッション</span></h2>
<p>既定では、Ruby on Rails は Cookie ベースのセッションストアを使用します。これは、特に設定を変更しない限り、セッションはサーバー上で期限切れにならないことを意味します。つまり、既定のアプリケーションは、再生攻撃に対して脆弱である可能性があることになります。また、これは、センシティブな情報はセッションに含めるべきではない、ということも意味します。
</p><p>ベストプラクティスは、データベースのセッションを使用することです。幸いなことに、これは Rails では非常に容易です。
</p>
<pre>   Project::Application.config.session_store&#160;:active_record_store
</pre>
<p>「<a rel="nofollow" class="external text" href="https://www.owasp.org/index.php/Session_Management_Cheat_Sheet">OWASP セッション管理に関するチートシート</a>」があります。
</p>
<h2><span class="mw-headline" id="Authentication">認証</span></h2>
<p>通常、Rails はそれ自体では認証機能を提供しません。しかし、Rails を使用している開発者のほとんどは、Devise や AuthLogic などのライブラリを活用して認証機能を実装しています。Devise で認証を有効にするには、単にコントローラーで次のように指定します。
</p>
<pre>   class ProjectController &lt; ApplicationController
       before_filter&#160;:authenticate_user
</pre>
<p>他の方法と同様に、これは例外をサポートしています。既定では、Devise で必要となるパスワード文字数はわずか 6 文字です。最低文字数は次のファイルで変更できます。/config/initializers/devise.rb
</p>
<pre>   config.password_length = 8..128
</pre>
<p>複雑性を強制する方法はいくつかあります。1 つはユーザーモデルに検証を導入することです。
</p>
<pre>   validate&#160;:password_complexity
   def password_complexity
      if password.present? and not password.match(/\A(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+\z/)
          errors.add&#160;:password, "must include at least one lowercase letter, one uppercase letter, and one digit (小文字、大文字、数字をそれぞれ 1 文字以上含んでいなければなりません)"
      end
   end
</pre>
<p>「<a rel="nofollow" class="external text" href="https://www.owasp.org/index.php/Authentication_Cheat_Sheet">OWASP 認証に関するチートシート</a>」があります。
</p>
<h2><span class="mw-headline" id="Insecure_Direct_Object_Reference_or_Forceful_Browsing">セキュリティで保護されていない直接的なオブジェクト参照または強制的ブラウズ</span></h2>
<p>既定では、Ruby on Rails アプリは RESTful URI 構造を使用します。これは、パスがしばしば直観的で推測可能であることを意味します。ユーザーが別のユーザーに属するデータへのアクセスやデータの変更を試みようとするのを阻止するには、アクションを明確に制御することが重要です。標準的な Rails アプリケーションのゲートの外には、そのような組み込みの保護機能はありません。手動により、コントローラーレベルでこの制御を行うことは可能です。  
</p><p>また、<a rel="nofollow" class="external text" href="https://github.com/CanCanCommunity/cancancan">cancancan</a> (cancan の後継) や <a rel="nofollow" class="external text" href="https://github.com/elabs/pundit">pundit</a> などの、リソースベースのアクセス制御ライブラリを使用してこの制御を行うことも可能であり、おそらくこちらの方法を検討するのが良いでしょう。この方法により、データベースオブジェクトに対するすべての操作が、アプリケーションのビジネスロジックによって認可されるようになります。 
</p><p><a rel="nofollow" class="external text" href="https://www.owasp.org/index.php/Top_10_2010-A4-Insecure_Direct_Object_References">OWASP Top 10 ページ</a>には、このクラスの脆弱性に関する一般情報があります。
</p>
<h2><span class="mw-headline" id="CSRF_.28Cross_Site_Request_Forgery.29">CSRF (クロスサイトリクエストフォージェリ)</span></h2>
<p>Ruby on Rails には、CSRF に対する特別なサポートが組み込まれています。これを有効化する、または有効化を保証するには、ベース ApplicationController を見つけて、次のようなディレクティブを探します。
</p>
<pre>   class ApplicationController &lt; ActionController::Base
       protect_from_forgery
</pre>
<p>この種の制御の構文には、例外を追加するための方法が含まれています。例外は API やその他の理由で役立つことがありますが、その必要性をよく検討して、意識して組み込む必要があります。次の例の場合、Rails ProjectController は show メソッドに対して CSRF 防御を提供しません。
</p>
<pre>  class ProjectController &lt; ApplicationController
      protect_from_forgery&#160;:except =&gt;&#160;:show
</pre>
<p>また Rails は、既定では、HTTP GET リクエストに対して CSRF 防御を提供しないことにも注意してください。
</p><p>OWASP のトップレベルページの 1 つでは、<a rel="nofollow" class="external text" href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_%28CSRF%29">CSRF</a> について説明しています。
</p>
<h2><span class="mw-headline" id="Mass_Assignment_and_Strong_Parameters">Mass Assignment と Strong Parameters</span></h2>
<p>Mass Assignment  に関する主な問題は、ベース Rails では既定で修正されており、新規にプロジェクトを生成する場合には問題ありませんが 、以前のプロジェクトやアップグレードされたプロジェクトでは、この問題について理解し、変更可能とされている属性以外は公開されないようにすることが重要です。
</p><p>モデルの操作時、プログラマーが次のように明示的に指示しない限り、ポストされたフォームからモデルの属性にアクセスすることはできません。
</p>
<pre>   class Project &lt; ActiveRecord::Base
       attr_accessible&#160;:name,&#160;:admin
   end
</pre>
<p>上の例に基づいて admin 属性がアクセス可能である場合、次のことが可能になることがあります。
</p>
<pre>   curl -d “project[name]=triage&amp;project[admin]=1” host:port/projects
</pre>
<p>アクセス可能な属性はどれか、そして実際にアクセス可能にする必要があるか、を確認してください。3.2.3 より前のバージョンの Rails を使用している場合は、次の方法で必ず属性のホワイトリストを作成する必要があります。
</p>
<pre>   config.active_record.whitelist_attributes = true
</pre>
<p>Rails 4.0 での属性の可視性処理の推奨アプローチは、Strong Parameters を使用することです。また、Rails 3.x アプリケーションでは strong_parameters gem を、Rails 2.3.x アプリケーションでは strong_parameters_rails2 gem をそれぞれ使用できます。
</p>
<h2><span class="mw-headline" id="Redirects_and_Forwards">リダイレクトと転送</span></h2>
<p>多くの場合、Web アプリケーションには、クライアントが提供したデータに基づいてユーザーを動的にリダイレクトする機能が必要になります。明確に言うと、動的なリダイレクトを可能にするためには、通常、アプリケーションへのリクエスト内のパラメーターに、クライアントによって URL が挿入されなければなりません。アプリケーションでリクエストが受信されると、ユーザーはリクエスト内に指定された URL にリダイレクトされます。次に例を示します。
</p><p><a rel="nofollow" class="external free" href="http://www.example.com/redirect?url=http://www.example_commerce_site.com/checkout">http://www.example.com/redirect?url=http://www.example_commerce_site.com/checkout</a>
</p><p>上のリクエストでは、ユーザーは <a rel="nofollow" class="external free" href="http://www.example.com/checkout">http://www.example.com/checkout</a> にリダイレクトされます。この機能に関連するセキュリティの問題は、組織の信頼されたブランドを使ってユーザーを有害なサイトに誘導するフィッシング攻撃の存在です。次の例では、このような有害サイトとして "badhacker.com" を使用しています。例:
</p><p><a rel="nofollow" class="external free" href="http://www.example.com/redirect?url=http://badhacker.com">http://www.example.com/redirect?url=http://badhacker.com</a>
</p><p>限定的とはいえ、最も基本的な防御は、:only_path オプションを使用することです。これを true に設定すると、本質的に、あらゆるホスト情報が削除されます。ただし、:only_path オプションは第 1 引数の一部でなければなりません。第 1 引数がハッシュテーブルでない場合、このオプションを渡すことはできません。カスタムのヘルパーまたはホワイトリストがないときに有効なアプローチの 1 つは、次のとおりです。
</p>
<pre> begin
   if path = URI.parse(params[:url]).path
     redirect_to path
   end
 rescue URI::InvalidURIError
   redirect_to '/'
 end
</pre>
<p>ユーザー入力と承認されたサイトのリストとの照合や TLD と正規表現との照合が必須である場合、URI.parse() などのライブラリを使用してホストを取得し、ホスト値を正規表現パターンと照合することは、理にかなっています。このような正規表現は、少なくともアンカーを含んでいなければなりません。でなければ、攻撃者が検証ルーチンをバイパスする可能性が高まります。
</p><p>例:
</p>
<pre>   require ‘uri’
   host = URI.parse(“#{params[:url]}”).host
   validation_routine(host) if host    # これは javascript://trusted.com/%0Aalert(0) に対して脆弱である可能性があるため、.scheme と .port もチェックする
   def validation_routine(host)
       # この検証ルーチンでは \A および \z をアンカー *not* ^ および $ として使用
       # また、ホスト値をホワイトリストと照合するのも良い
   end
</pre>
<p>また、ユーザー入力パラメーターへのブラインドリダイレクトも XSS につながる可能性があります。例:
</p>
<pre>   redirect_to params[:to]
   
   <a rel="nofollow" class="external free" href="http://example.com/redirect?to">http://example.com/redirect?to</a>[status]=200&amp;to[protocol]=javascript:alert(0)//
</pre>
<p>この種の脆弱性に対する明らかな修正は、特定のトップレベルドメイン (TLD) に制限するか、特定のサイトを定義するか、またはキーとその値とをマップすることです。例:
</p>
<pre>   ACCEPTABLE_URLS = {
       ‘our_app_1’ =&gt; “<a rel="nofollow" class="external free" href="https://www.example_commerce_site.com/checkout”">https://www.example_commerce_site.com/checkout”</a>,
       ‘our_app_2’ =&gt; “<a rel="nofollow" class="external free" href="https://www.example_user_site.com/change_settings”">https://www.example_user_site.com/change_settings”</a>
   }
</pre>
<p><a rel="nofollow" class="external free" href="http://www.example.com/redirect?url=our_app_1">http://www.example.com/redirect?url=our_app_1</a>
</p>
<pre>  def redirect
      url = ACCEPTABLE_URLS[“#{params[:url]}”]
      redirect_to url if url
  end
</pre>
<p><a rel="nofollow" class="external text" href="https://www.owasp.org/index.php/Unvalidated_Redirects_and_Forwards_Cheat_Sheet">未検証のリダイレクトと転送</a>に関する一般情報を示す OWASP リソースがあります。
</p>
<h2><span class="mw-headline" id="Dynamic_Render_Paths">レンダリングパスの動的指定</span></h2>
<p>Rails では、"render" メソッドを呼び出すことによって、コントローラーのアクションとビューで、どのビューまたはその一部をレンダリングするかを動的に決定することができます。テンプレート名またはその一部としてユーザー入力を使用すると、攻撃者により、 管理ページなどの任意のビューをアプリケーションがレンダリングするように、操作されてしまう可能性があります。
</p><p>レンダリングするビューをユーザー入力に基づいて決定する場合は、注意が必要です。ビューの名前やパスの中でユーザー入力を使用することは、できるだけ避けてください。
</p>
<h2><span class="mw-headline" id="Cross_Origin_Resource_Sharing">クロスオリジンリソース共有 (CORS)</span></h2>
<p>ときには、別のドメインとリソースを共有する必要が生じることがあります。たとえば、AJAX リクエストを介して別のドメインにデータを送信するファイルアップロード機能などのリソースがあります。このような場合、Web ブラウザーが従う同一生成元の規則を曲げなければなりません。これは、HTML5 標準に準拠したモダンブラウザーでは可能ですが、その際に注意すべきことが 2、3 あります。
</p><p>たとえば非定型の Content-Type ヘッダーなど、非標準の HTTP コンストラクトを使用する場合には、次のことが適用されます。
</p><p>受信側のサイトでは、このようなリクエストの作成を許可されたドメインのみのホワイトリストを作成するとともに、OPTIONS リクエストと POST リクエストの両方のレスポンスに Access-Control-Allow-Origin ヘッダーを設定する必要があります。これは、リモートまたは受信側サイトがリクエスト元のドメインを許可しているかどうか判定するために、最初に OPTIONS リクエストが送信されるためです。次に、2 番目のリクエストとして POST リクエストが送信されます。ここでも、トランザクションが成功として表示されるためには、ヘッダーが設定されていなければなりません。
</p><p>標準の HTTP コンストラクトを使用する場合:
</p><p>リクエストの送信後、レスポンスを受信すると、ブラウザーはレスポンスヘッダーを調べて、レスポンスが処理可能かどうか、また処理すべきかどうかを確認します。
</p><p>Rails でのホワイトリストの作成:
</p><p>Gemfile
</p>
<pre>   gem 'rack-cors',&#160;:require =&gt; 'rack/cors'
</pre>
<p>config/application.rb
</p>
<pre>   module Sample
       class Application &lt; Rails::Application
           config.middleware.use Rack::Cors do
               allow do
                   origins 'someserver.example.com'
                   resource&#160;%r{/users/\d+.json},
                      &#160;:headers =&gt; ['Origin', 'Accept', 'Content-Type'],
                      &#160;:methods =&gt; [:post,&#160;:get]
               end
           end
       end
   end
</pre>
<h2><span class="mw-headline" id="Security-related_headers">セキュリティ関連ヘッダー</span></h2>
<p>ヘッダー値を設定するには、単に、コントローラー内 (多くの場合、before/after_filter 内) のハッシュとして、response.headers オブジェクトにアクセスします。
</p>
<pre> response.headers['X-header-name'] = 'value'
</pre>
<p><b>Rails 4</b> は、指定された値を自動的に適用する "default_headers" 機能を備えています。これは、ほぼすべてのクラスのほとんどのヘッダーに有効です。
</p>
<pre> ActionDispatch::Response.default_headers = {	  	
   'X-Frame-Options' =&gt; 'DENY', 	
   'X-Content-Type-Options' =&gt; 'nosniff',	  	
   'X-XSS-Protection' =&gt; '1;'
 }
</pre>
<p>Strict Transport Security は特殊なケースであり、環境ファイル (production.rb など) で設定します。
</p>
<pre> config.force_ssl = true
</pre>
<p>他の方法を使用したい場合は、コンテンツセキュリティポリシーの抽象化を提供する、同じ動作のライブラリ (<a rel="nofollow" class="external text" href="https://github.com/twitter/secureheaders">secure_headers</a>) もあります。このライブラリは、ユーザーエージェントに基づいてロジックを自動的に適用することによって、簡潔なヘッダーセットを生成します。
</p>
<h2><span class="mw-headline" id="Business_Logic_Bugs">ビジネスロジックのバグ</span></h2>
<p>どのようなテクノロジのどのようなアプリケーションであっても、セキュリティのバグを発生させるビジネスロジックを内部に含む可能性があります。ビジネスロジックのバグは、自動ツールでは検出が不可能または困難です。ビジネスロジックのセキュリティバグを防止する最善の方法は、コードをレビューし、ペアプログラミングを実施し、単体テストを作成することです。
</p>
<h2><span class="mw-headline" id="Attack_Surface">攻撃対象領域</span></h2>
<p>一般に、Rails では、どの URL がアクセス可能であり、またアクセス可能な URL をどのコントローラーによって処理すべきかが /config/routes.rb ファイルによって指示されるため、オープンリダイレクトやパストラバーサルといったタイプの脆弱性は回避されます。攻撃対象領域のスコープについて検討する際には、この routes ファイルのチェックが非常に役立ちます。次に例を示します。
</p>
<pre>   match ':controller(/:action(/:id(.:format)))' # これは、"してはいけない" ことの例です。
</pre>
<p>この場合、このルートでは、あらゆるコントローラーのあらゆるパブリックメソッドがアクションとして呼び出される可能性があります。開発者は、あらかじめ意図されたコントローラーメソッド以外のメソッドに、意図された方法以外の方法で、ユーザーがアクセスできないようにする必要があります。
</p>
<h2><span class="mw-headline" id="Sensitive_Files">機密のファイル</span></h2>
<p>Ruby on Rails アプリの多くは、オープンソースであり、公開されたソースコードリポジトリ上にホストされます。これに該当する場合も、またコードが企業のソース管理システムに格納される場合も、一部のファイルについては、除外するか、または慎重に管理する必要があります。
</p>
<pre>   /config/database.yml                 -  実稼働の証明書を含むことがあります。
   /config/initializers/secret_token.rb -  セッション Cookie のハッシュに使用されるシークレットを含みます。
   /db/seeds.rb                         -  ブートストラップ管理ユーザーなどのシードデータを含むことがあります。
   /db/development.sqlite3              -  実際のデータを含むことがあります。 
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Encryption">暗号化</span></h2>
<p>Rails では OS の暗号化が使用されます。一般に、独自の暗号化を作成することは常にやめるべきです。
</p><p>Devise では、既定で、パスワードのハッシュに bcrypt が使用されます。これは適切なソリューションです。以下の config では通常、stretch 回数は 10 に設定されます。/config/initializers/devise.rb
</p>
<pre>   config.stretches = Rails.env.test?&#160;? 1&#160;: 10
</pre>
<h1><span class="mw-headline" id="Updating_Rails_and_Having_a_Process_for_Updating_Dependencies">Rails の更新、および依存関係更新プロセスの設定</span></h1>
<p>2013 年の初頭に、Rails フレームワークの重大な脆弱性がいくつか特定されました。現在のバージョンに遅れをとっていた組織は、更新がより面倒なものになり、更新の過程で、フレームワーク自体のソースコードへのパッチ適用などについて、より難しい決定を強いられました。
</p><p>Ruby アプリケーション全般に関連する別の問題として、ほとんどのライブラリ (gem) が作成者によって署名されていないという問題があります。信頼されたソースからのライブラリを使用して Rails ベースのプロジェクトを構築することは文字通り不可能です。推奨手法の 1 つは、使用する gem を監査することです。
</p><p>一般に、依存関係の更新プロセスを設定することが重要です。たとえば、更新プロセスをトリガする次のような 3 つのメカニズムを定義します。 
</p>
<ul>
<li> 毎月または四半期ごとに、依存関係全般を更新する。
</li>
<li> 毎週、重要なセキュリティの脆弱性について考慮し、場合によっては更新をトリガする。
</li>
<li> 例外的な状況では、緊急更新の適用が必要なこともある。
</li>
</ul>
<h1><span class="mw-headline" id="Tools">ツール</span></h1>
<p>Rails アプリケーション用のオープンソースなコード解析ツールである <a rel="nofollow" class="external text" href="http://brakemanscanner.org/">brakeman</a> を使用することで、潜在的なさまざまな問題を特定できます。このツールでは、包括的なセキュリティ調査結果は必ずしも得られるとは限りませんが、検出が容易な問題は見つかります。Rails 内の潜在的な問題を見つける良い方法は、brakeman ドキュメントで警告タイプを調べることです。
</p><p>依存関係セット内のセキュリティ問題の追跡に使用できる、<a rel="nofollow" class="external free" href="https://gemcanary.com/">https://gemcanary.com/</a> や <a rel="nofollow" class="external free" href="https://gemnasium.com/">https://gemnasium.com/</a> などの新しいツールがあります。
</p><p>別のツール領域として、セキュリティテストツール <a rel="nofollow" class="external text" href="http://gauntlt.org">Gauntlt</a> があります。このツールは cucumber 上に構築され、gherkin 構文を使って攻撃ファイルを定義します。
</p><p>2013 年 5 月にリリースされた <a rel="nofollow" class="external text" href="http://rubygems.org/gems/codesake-dawn">codesake-dawn</a> は、brakeman スキャナーに非常によく似た静的アナライザーであり、Rails、Sinatra、および Padrino Web アプリケーションのセキュリティの問題を分析します。バージョン 0.60 には Ruby 固有の CVE セキュリティチェックが 30 個以上も含まれており、さらに今後のリリースでは、クロスサイトスクリプティングと SQL インジェクションに対するカスタムチェックが追加される見込みです。
</p>
<h1><span class="mw-headline" id="Authors_and_Primary_Editors">Authors and Primary Editors</span></h1>
<p>Matt Konda - mkonda [at] jemurai.com<br />
Neil Matatall neil [at] matatall.com<br />
Ken Johnson cktricky [at] gmail.com<br />
Justin Collins justin [at] presidentbeef.com<br />
Jon Rose - jrose400 [at] gmail.com<br />
Lance Vaughn - lance [at] cabforward.com<br />
Jon Claudius - jonathan.claudius [at] gmail.com<br />
Jim Manico jim [at] owasp.org<br />
Aaron Bedra aaron [at] aaronbedra.com<br />
Egor Homakov homakov [at] gmail.com<br />
</p>
<h1><span class="mw-headline" id="Related_Articles_and_References">関連資料と参考資料</span></h1>
<ul>
<li> <a rel="nofollow" class="external text" href="http://guides.rubyonrails.org/security.html">正式な Rails セキュリティガイド</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://www.owasp.org/index.php/Category:OWASP_Ruby_on_Rails_Security_Guide_V2">OWASP Ruby on Rails Security Guide</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://code.google.com/p/ruby-security/wiki/Guide">Ruby Security Reviewers Guide</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://groups.google.com/forum/?fromgroups#!forum/rubyonrails-security">Ruby on Rails Security メーリングリスト</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://blog.codeclimate.com/blog/2013/03/27/rails-insecure-defaults/">Rails Insecure Defaults</a>
</li>
</ul>
<h2><span class="mw-headline" id="Other_Cheatsheets">Other Cheatsheets</span></h2>
<p><b>Developer Cheat Sheets (Builder)</b>
</p>
<ul>
<li> <a href="/index.php/Authentication_Cheat_Sheet" title="Authentication Cheat Sheet">Authentication Cheat Sheet</a> (<a href="/index.php/Authentication_Cheat_Sheet_Espa%C3%B1ol" title="Authentication Cheat Sheet Español">Spanish</a>)
</li>
<li> <a href="/index.php/Choosing_and_Using_Security_Questions_Cheat_Sheet" title="Choosing and Using Security Questions Cheat Sheet">Choosing and Using Security Questions Cheat Sheet</a>
</li>
<li> <a href="/index.php/Clickjacking_Defense_Cheat_Sheet" title="Clickjacking Defense Cheat Sheet">Clickjacking Defense Cheat Sheet</a>
</li>
<li> <a href="/index.php/C-Based_Toolchain_Hardening_Cheat_Sheet" title="C-Based Toolchain Hardening Cheat Sheet">C-Based Toolchain Hardening Cheat Sheet</a>
</li>
<li> <a href="/index.php/Cross-Site_Request_Forgery_(CSRF)_Prevention_Cheat_Sheet" title="Cross-Site Request Forgery (CSRF) Prevention Cheat Sheet">Cross-Site Request Forgery (CSRF) Prevention Cheat Sheet</a>
</li>
<li> <a href="/index.php/Cryptographic_Storage_Cheat_Sheet" title="Cryptographic Storage Cheat Sheet">Cryptographic Storage Cheat Sheet</a>
</li>
<li> <a href="/index.php/DOM_based_XSS_Prevention_Cheat_Sheet" title="DOM based XSS Prevention Cheat Sheet">DOM based XSS Prevention Cheat Sheet</a>
</li>
<li> <a href="/index.php/Forgot_Password_Cheat_Sheet" title="Forgot Password Cheat Sheet">Forgot Password Cheat Sheet</a>
</li>
<li> <a href="/index.php/HTML5_Security_Cheat_Sheet" title="HTML5 Security Cheat Sheet">HTML5 Security Cheat Sheet</a>
</li>
<li> <a href="/index.php/Input_Validation_Cheat_Sheet" title="Input Validation Cheat Sheet">Input Validation Cheat Sheet</a>
</li>
<li> <a href="/index.php/JAAS_Cheat_Sheet" title="JAAS Cheat Sheet">JAAS Cheat Sheet</a>
</li>
<li> <a href="/index.php/Logging_Cheat_Sheet" title="Logging Cheat Sheet">Logging Cheat Sheet</a>
</li>
<li> <a href="/index.php/.NET_Security_Cheat_Sheet" title=".NET Security Cheat Sheet">.NET Security Cheat Sheet</a>
</li>
<li> <a href="/index.php/OWASP_Top_Ten_Cheat_Sheet" title="OWASP Top Ten Cheat Sheet">OWASP Top Ten Cheat Sheet</a>
</li>
<li> <a href="/index.php/Password_Storage_Cheat_Sheet" title="Password Storage Cheat Sheet">Password Storage Cheat Sheet</a>
</li>
<li> <a href="/index.php/Pinning_Cheat_Sheet" title="Pinning Cheat Sheet">Pinning Cheat Sheet</a>
</li>
<li> <a href="/index.php/Query_Parameterization_Cheat_Sheet" title="Query Parameterization Cheat Sheet">Query Parameterization Cheat Sheet</a>
</li>
<li> <strong class="selflink">Ruby on Rails Cheatsheet</strong>
</li>
<li> <a href="/index.php/REST_Security_Cheat_Sheet" title="REST Security Cheat Sheet">REST Security Cheat Sheet</a>
</li>
<li> <a href="/index.php/Session_Management_Cheat_Sheet" title="Session Management Cheat Sheet">Session Management Cheat Sheet</a>
</li>
<li> <a href="/index.php/SAML_Security_Cheat_Sheet" title="SAML Security Cheat Sheet">SAML Security Cheat Sheet</a>
</li>
<li> <a href="/index.php/SQL_Injection_Prevention_Cheat_Sheet" title="SQL Injection Prevention Cheat Sheet">SQL Injection Prevention Cheat Sheet</a>
</li>
<li> <a href="/index.php/Transaction_Authorization_Cheat_Sheet" title="Transaction Authorization Cheat Sheet">Transaction Authorization Cheat Sheet</a>
</li>
<li> <a href="/index.php/Transport_Layer_Protection_Cheat_Sheet" title="Transport Layer Protection Cheat Sheet">Transport Layer Protection Cheat Sheet</a>
</li>
<li> <a href="/index.php/Unvalidated_Redirects_and_Forwards_Cheat_Sheet" title="Unvalidated Redirects and Forwards Cheat Sheet">Unvalidated Redirects and Forwards Cheat Sheet</a>
</li>
<li> <a href="/index.php/User_Privacy_Protection_Cheat_Sheet" title="User Privacy Protection Cheat Sheet">User Privacy Protection Cheat Sheet</a>
</li>
<li> <a href="/index.php/Web_Service_Security_Cheat_Sheet" title="Web Service Security Cheat Sheet">Web Service Security Cheat Sheet</a>
</li>
<li> <a href="/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet" title="XSS (Cross Site Scripting) Prevention Cheat Sheet">XSS (Cross Site Scripting) Prevention Cheat Sheet</a>
</li>
</ul>
<p><b>Assessment Cheat Sheets (Breaker)</b>
</p>
<ul>
<li> <a href="/index.php/Attack_Surface_Analysis_Cheat_Sheet" title="Attack Surface Analysis Cheat Sheet">Attack Surface Analysis Cheat Sheet</a>
</li>
<li> <a href="/index.php/XSS_Filter_Evasion_Cheat_Sheet" title="XSS Filter Evasion Cheat Sheet">XSS Filter Evasion Cheat Sheet</a>
</li>
<li> <a href="/index.php/REST_Assessment_Cheat_Sheet" title="REST Assessment Cheat Sheet">REST Assessment Cheat Sheet</a>
</li>
<li> <a href="/index.php/Web_Application_Security_Testing_Cheat_Sheet" title="Web Application Security Testing Cheat Sheet">Web Application Security Testing Cheat Sheet</a>
</li>
</ul>
<p><b>Mobile Cheat Sheets</b>
</p>
<ul>
<li> <a href="/index.php/IOS_Developer_Cheat_Sheet" title="IOS Developer Cheat Sheet">IOS Developer Cheat Sheet</a>
</li>
<li> <a href="/index.php/Mobile_Jailbreaking_Cheat_Sheet" title="Mobile Jailbreaking Cheat Sheet">Mobile Jailbreaking Cheat Sheet</a>
</li>
</ul>
<p><b>OpSec Cheat Sheets (Defender)</b>
</p>
<ul>
<li> <a href="/index.php/Virtual_Patching_Cheat_Sheet" title="Virtual Patching Cheat Sheet">Virtual Patching Cheat Sheet</a>
</li>
</ul>
<p><b>Draft Cheat Sheets</b>
</p>
<ul>
<li> <a href="/index.php/Access_Control_Cheat_Sheet" title="Access Control Cheat Sheet">Access Control Cheat Sheet</a>
</li>
<li> <a href="/index.php/Application_Security_Architecture_Cheat_Sheet" title="Application Security Architecture Cheat Sheet">Application Security Architecture Cheat Sheet</a>
</li>
<li> <a href="/index.php/Business_Logic_Security_Cheat_Sheet" title="Business Logic Security Cheat Sheet">Business Logic Security Cheat Sheet</a>
</li>
<li> <a href="/index.php/PHP_Security_Cheat_Sheet" title="PHP Security Cheat Sheet">PHP Security Cheat Sheet</a>
</li>
<li> <a href="/index.php/Secure_Coding_Cheat_Sheet" title="Secure Coding Cheat Sheet">Secure Coding Cheat Sheet</a>
</li>
<li> <a href="/index.php/Secure_SDLC_Cheat_Sheet" title="Secure SDLC Cheat Sheet">Secure SDLC Cheat Sheet</a>
</li>
<li> <a href="/index.php/Threat_Modeling_Cheat_Sheet" title="Threat Modeling Cheat Sheet">Threat Modeling Cheat Sheet</a>
</li>
<li> <a href="/index.php/Grails_Secure_Code_Review_Cheat_Sheet" title="Grails Secure Code Review Cheat Sheet">Grails Secure Code Review Cheat Sheet</a>
</li>
<li> <a href="/index.php/IOS_Application_Security_Testing_Cheat_Sheet" title="IOS Application Security Testing Cheat Sheet">IOS Application Security Testing Cheat Sheet</a>
</li>
<li> <a href="/index.php/Key_Management_Cheat_Sheet" title="Key Management Cheat Sheet">Key Management Cheat Sheet</a>
</li>
<li> <a href="/index.php/Insecure_Direct_Object_Reference_Prevention_Cheat_Sheet" title="Insecure Direct Object Reference Prevention Cheat Sheet">Insecure Direct Object Reference Prevention Cheat Sheet</a>
</li>
<li> <a href="/index.php/Content_Security_Policy_Cheat_Sheet" title="Content Security Policy Cheat Sheet">Content Security Policy Cheat Sheet</a>
</li>
</ul>
</td></tr></table>

<!-- 
NewPP limit report
CPU time usage: 0.096 seconds
Real time usage: 0.105 seconds
Preprocessor visited node count: 107/1000000
Preprocessor generated node count: 142/1000000
Post‐expand include size: 2078/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:29608-0!*!0!!en!2!* and timestamp 20151215042006 and revision id 191078
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="https://www.owasp.org/index.php?title=Ruby_on_Rails_Cheatsheet&amp;oldid=191078">https://www.owasp.org/index.php?title=Ruby_on_Rails_Cheatsheet&amp;oldid=191078</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/index.php/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/index.php/Category:Cheatsheets" title="Category:Cheatsheets">Cheatsheets</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Ruby+on+Rails+Cheatsheet" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li><li id="pt-createaccount"><a href="/index.php/Special:RequestAccount">Request account</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="/index.php/Ruby_on_Rails_Cheatsheet"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="/index.php?title=Talk:Ruby_on_Rails_Cheatsheet&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="/index.php/Ruby_on_Rails_Cheatsheet" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="/index.php?title=Ruby_on_Rails_Cheatsheet&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="/index.php?title=Ruby_on_Rails_Cheatsheet&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search OWASP [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(/skins/owasplogo.png);" href="/index.php/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-Navigation' aria-labelledby='p-Navigation-label'>
	<h3 id='p-Navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-Home"><a href="/index.php/Main_Page">Home</a></li>
			<li id="n-About-OWASP"><a href="/index.php/About_OWASP">About OWASP</a></li>
			<li id="n-Acknowledgements"><a href="https://www.owasp.org/index.php/Acknowledgements" rel="nofollow">Acknowledgements</a></li>
			<li id="n-Advertising"><a href="https://www.owasp.org/index.php/Advertising" rel="nofollow">Advertising</a></li>
			<li id="n-AppSec-Events"><a href="/index.php/Category:OWASP_AppSec_Conference">AppSec Events</a></li>
			<li id="n-Books"><a href="http://stores.lulu.com/owasp" rel="nofollow">Books</a></li>
			<li id="n-Brand-Resources"><a href="https://www.owasp.org/index.php/Marketing/Resources" rel="nofollow">Brand Resources</a></li>
			<li id="n-Chapters"><a href="https://www.owasp.org/index.php/OWASP_Chapter" rel="nofollow">Chapters</a></li>
			<li id="n-Donate-to-OWASP"><a href="https://www.owasp.org/index.php/Donate" rel="nofollow">Donate to OWASP</a></li>
			<li id="n-Downloads"><a href="/index.php/Category:OWASP_Download">Downloads</a></li>
			<li id="n-Funding"><a href="https://www.owasp.org/index.php/Funding" rel="nofollow">Funding</a></li>
			<li id="n-Governance"><a href="https://www.owasp.org/index.php/Governance" rel="nofollow">Governance</a></li>
			<li id="n-Initiatives"><a href="https://www.owasp.org/index.php/OWASP_Initiatives_Global_Strategic_Focus" rel="nofollow">Initiatives</a></li>
			<li id="n-Mailing-Lists"><a href="http://lists.owasp.org/mailman/listinfo" rel="nofollow">Mailing Lists</a></li>
			<li id="n-Membership"><a href="/index.php/Membership">Membership</a></li>
			<li id="n-Merchandise"><a href="https://www.owasp.org/index.php/OWASP_Merchandise" rel="nofollow">Merchandise</a></li>
			<li id="n-News"><a href="/index.php/Application_Security_News">News</a></li>
			<li id="n-Portal"><a href="https://www.owasp.org/index.php/Portal" rel="nofollow" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-Presentations"><a href="/index.php/Category:OWASP_Presentations">Presentations</a></li>
			<li id="n-Press"><a href="https://www.owasp.org/index.php/Press" rel="nofollow">Press</a></li>
			<li id="n-Projects"><a href="/index.php/Category:OWASP_Project">Projects</a></li>
			<li id="n-Video"><a href="/index.php/Category:OWASP_Video">Video</a></li>
			<li id="n-Volunteer"><a href="http://owasp.force.com/volunteers/GW_Volunteers__VolunteersJobListing" rel="nofollow">Volunteer</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-Reference' aria-labelledby='p-Reference-label'>
	<h3 id='p-Reference-label'>Reference</h3>
	<div class="body">
		<ul>
			<li id="n-Activities"><a href="/index.php/Category:Activity">Activities</a></li>
			<li id="n-Attacks"><a href="/index.php/Category:Attack">Attacks</a></li>
			<li id="n-Code-Snippets"><a href="/index.php/Category:Code_Snippet">Code Snippets</a></li>
			<li id="n-Controls"><a href="/index.php/Category:Control">Controls</a></li>
			<li id="n-Glossary"><a href="/index.php/Category:Glossary">Glossary</a></li>
			<li id="n-How-To..."><a href="/index.php/Category:How_To">How To...</a></li>
			<li id="n-Java-Project"><a href="/index.php/Category:OWASP_Java_Project">Java Project</a></li>
			<li id="n-.NET-Project"><a href="/index.php/Category:OWASP_.NET_Project">.NET Project</a></li>
			<li id="n-Principles"><a href="/index.php/Category:Principle">Principles</a></li>
			<li id="n-Technologies"><a href="/index.php/Category:Technology">Technologies</a></li>
			<li id="n-Threat-Agents"><a href="/index.php/Category:Threat_Agent">Threat Agents</a></li>
			<li id="n-Vulnerabilities"><a href="/index.php/Category:Vulnerability">Vulnerabilities</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-languageselector' aria-labelledby='p-languageselector-label'>
	<h3 id='p-languageselector-label'>Language</h3>
	<div class="body">
		<ul>
			<li id="n-languageselector" class="active"><a 0="https://www.owasp.org/index.php?title=Ruby_on_Rails_Cheatsheet&amp;setlang=en" href="https://www.owasp.org/index.php?title=Ruby_on_Rails_Cheatsheet&amp;setlang=en">English</a></li>
			<li id="n-languageselector"><a 0="https://www.owasp.org/index.php?title=Ruby_on_Rails_Cheatsheet&amp;setlang=es" href="https://www.owasp.org/index.php?title=Ruby_on_Rails_Cheatsheet&amp;setlang=es">español</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="/index.php/Special:WhatLinksHere/Ruby_on_Rails_Cheatsheet" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="/index.php/Special:RecentChangesLinked/Ruby_on_Rails_Cheatsheet" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="/index.php/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="/index.php?title=Ruby_on_Rails_Cheatsheet&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="/index.php?title=Ruby_on_Rails_Cheatsheet&amp;oldid=191078" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="/index.php?title=Ruby_on_Rails_Cheatsheet&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 9 March 2015, at 14:01.</li>
											<li id="footer-info-viewcount">This page has been accessed 103,946 times.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">a Creative Commons 3.0 License</a> unless otherwise noted.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="/index.php/OWASP:Privacy_policy" title="OWASP:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="/index.php/OWASP:About" title="OWASP:About">About OWASP</a></li>
											<li id="footer-places-disclaimer"><a href="/index.php/OWASP:General_disclaimer" title="OWASP:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="https://www.owasp.org/images/f/fa/Somerights20.png" alt="a Creative Commons 3.0 License" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="//www.mediawiki.org/"><img src="/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
						<a href="http://www.rackspace.com/cloud/managed_cloud/"><img src="/images/Powered_By_Rackspace_logo.png" alt="Powered by Rackspace Managed Cloud" height="30" width="100" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.languageSelector","ext.headertabs","skins.vector.collapsibleNav"],null,true);
}</script>
<script type="text/javascript">
function buildContent (blog) {
    var MONTH_NAMES = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ];
    if (!blog || !blog.items) return;  var container=document.getElementById("container");
    var code="";  for (var i = 0; i < blog.items.length; i++) {   var item = blog.items[i];
    var date = new Date();    date.setTime( 4 + item.published * 1000 );
    var datestring = MONTH_NAMES[date.getMonth()]+" "+(date.getDate());
    code=code+"<div style='font-weight:bold'>"+datestring+" - ";    
    code=code+"<a href='"+item.alternate.href+"'>"+item.title+"</a> (by ";
    code=code+"<a href='"+item.origin.streamId.substring(5)+"'>"+item.author+"</a>)</div>";
    var text=""+item.content;
    if (text == "undefined" ) {
	  text=item.summary;
    }
    code=code+"<div>"+text+"</div><br>";
    }
    container.innerHTML=code;
}
</script> 
<script type="text/javascript">
function build_bloglist(data) {
  var container = document.getElementById('blogroll');
  var list = document.createElement('div');
  // Loop through all data items returned
  for (var i=0; i < data.items.length; i++) {
    var item = data.items[i];
		var link = document.createElement('a');
		link.appendChild(document.createTextNode(item.title));
	link.href = item.id;
    list.appendChild(link);
    list.appendChild(document.createElement('br'));
  }
  container.appendChild(list);
}
</script>
<script src="https://www.owasp.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4531126-1");
pageTracker._trackPageview();
} catch(err) {}
</script><script>if(window.mw){
mw.config.set({"wgBackendResponseTime":147});
}</script>
	</body>
</html>
